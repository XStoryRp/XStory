var bn=Object.defineProperty;var yn=(t,e,n)=>e in t?bn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Qe=(t,e,n)=>(yn(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function F(){}const Ge=t=>t;function De(t,e){for(const n in e)t[n]=e[n];return t}function sn(t){return t()}function mt(){return Object.create(null)}function te(t){t.forEach(sn)}function Oe(t){return typeof t=="function"}function Z(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function wn(t){return Object.keys(t).length===0}function je(t,...e){if(t==null){for(const r of e)r(void 0);return F}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ee(t){let e;return je(t,n=>e=n)(),e}function G(t,e,n){t.$$.on_destroy.push(je(e,n))}function vn(t,e,n,r){if(t){const s=ln(t,e,n,r);return t[0](s)}}function ln(t,e,n,r){return t[1]&&r?De(n.ctx.slice(),t[1](r(e))):n.ctx}function kn(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],l=Math.max(e.dirty.length,s.length);for(let u=0;u<l;u+=1)i[u]=e.dirty[u]|s[u];return i}return e.dirty|s}return e.dirty}function Sn(t,e,n,r,s,i){if(s){const l=ln(e,n,r,i);t.p(l,s)}}function En(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function In(t,e,n){return t.set(n),e}const on=typeof window<"u";let Xe=on?()=>window.performance.now():()=>Date.now(),ft=on?t=>requestAnimationFrame(t):F;const ve=new Set;function un(t){ve.forEach(e=>{e.c(t)||(ve.delete(e),e.f())}),ve.size!==0&&ft(un)}function He(t){let e;return ve.size===0&&ft(un),{promise:new Promise(n=>{ve.add(e={c:t,f:n})}),abort(){ve.delete(e)}}}function E(t,e){t.appendChild(e)}function cn(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function An(t){const e=T("style");return e.textContent="/* empty */",Ln(cn(t),e),e.sheet}function Ln(t,e){return E(t.head||t,e),e.sheet}function L(t,e,n){t.insertBefore(e,n||null)}function A(t){t.parentNode&&t.parentNode.removeChild(t)}function Ie(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function T(t){return document.createElement(t)}function x(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function q(t){return document.createTextNode(t)}function U(){return q(" ")}function Y(){return q("")}function ee(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function d(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Nn(t){return t===""?null:+t}function Cn(t){return Array.from(t.childNodes)}function ue(t,e){e=""+e,t.data!==e&&(t.data=e)}function $e(t,e){t.value=e??""}function D(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Tn(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}const Be=new Map;let Ze=0;function Mn(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Rn(t,e){const n={stylesheet:An(e),rules:{}};return Be.set(t,n),n}function Ve(t,e,n,r,s,i,l,u=0){const o=16.666/r;let c=`{
`;for(let h=0;h<=1;h+=o){const b=e+(n-e)*i(h);c+=h*100+`%{${l(b,1-b)}}
`}const f=c+`100% {${l(n,1-n)}}
}`,a=`__svelte_${Mn(f)}_${u}`,_=cn(t),{stylesheet:m,rules:p}=Be.get(_)||Rn(_,t);p[a]||(p[a]=!0,m.insertRule(`@keyframes ${a} ${f}`,m.cssRules.length));const y=t.style.animation||"";return t.style.animation=`${y?`${y}, `:""}${a} ${r}ms linear ${s}ms 1 both`,Ze+=1,a}function Ye(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),s=n.length-r.length;s&&(t.style.animation=r.join(", "),Ze-=s,Ze||Dn())}function Dn(){ft(()=>{Ze||(Be.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&A(e)}),Be.clear())})}let Ke;function Me(t){Ke=t}function fn(){if(!Ke)throw new Error("Function called outside component initialization");return Ke}function qe(t){fn().$$.on_mount.push(t)}function Kn(t){fn().$$.on_destroy.push(t)}const be=[],gt=[];let ke=[];const ht=[],Un=Promise.resolve();let it=!1;function On(){it||(it=!0,Un.then(an))}function z(t){ke.push(t)}const xe=new Set;let ge=0;function an(){if(ge!==0)return;const t=Ke;do{try{for(;ge<be.length;){const e=be[ge];ge++,Me(e),Pn(e.$$)}}catch(e){throw be.length=0,ge=0,e}for(Me(null),be.length=0,ge=0;gt.length;)gt.pop()();for(let e=0;e<ke.length;e+=1){const n=ke[e];xe.has(n)||(xe.add(n),n())}ke.length=0}while(be.length);for(;ht.length;)ht.pop()();it=!1,xe.clear(),Me(t)}function Pn(t){if(t.fragment!==null){t.update(),te(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}function Fn(t){const e=[],n=[];ke.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),ke=e}let Te;function at(){return Te||(Te=Promise.resolve(),Te.then(()=>{Te=null})),Te}function _e(t,e,n){t.dispatchEvent(Tn(`${e?"intro":"outro"}${n}`))}const ze=new Set;let oe;function $(){oe={r:0,c:[],p:oe}}function B(){oe.r||te(oe.c),oe=oe.p}function k(t,e){t&&t.i&&(ze.delete(t),t.i(e))}function C(t,e,n,r){if(t&&t.o){if(ze.has(t))return;ze.add(t),oe.c.push(()=>{ze.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const dt={duration:0};function zn(t,e,n){const r={direction:"in"};let s=e(t,n,r),i=!1,l,u,o=0;function c(){l&&Ye(t,l)}function f(){const{delay:_=0,duration:m=300,easing:p=Ge,tick:y=F,css:h}=s||dt;h&&(l=Ve(t,0,1,m,_,p,h,o++)),y(0,1);const b=Xe()+_,w=b+m;u&&u.abort(),i=!0,z(()=>_e(t,!0,"start")),u=He(S=>{if(i){if(S>=w)return y(1,0),_e(t,!0,"end"),c(),i=!1;if(S>=b){const g=p((S-b)/m);y(g,1-g)}}return i})}let a=!1;return{start(){a||(a=!0,Ye(t),Oe(s)?(s=s(r),at().then(f)):f())},invalidate(){a=!1},end(){i&&(c(),i=!1)}}}function $n(t,e,n){const r={direction:"out"};let s=e(t,n,r),i=!0,l;const u=oe;u.r+=1;let o;function c(){const{delay:f=0,duration:a=300,easing:_=Ge,tick:m=F,css:p}=s||dt;p&&(l=Ve(t,1,0,a,f,_,p));const y=Xe()+f,h=y+a;z(()=>_e(t,!1,"start")),"inert"in t&&(o=t.inert,t.inert=!0),He(b=>{if(i){if(b>=h)return m(0,1),_e(t,!1,"end"),--u.r||te(u.c),!1;if(b>=y){const w=_((b-y)/a);m(1-w,w)}}return i})}return Oe(s)?at().then(()=>{s=s(r),c()}):c(),{end(f){f&&"inert"in t&&(t.inert=o),f&&s.tick&&s.tick(1,0),i&&(l&&Ye(t,l),i=!1)}}}function P(t,e,n,r){let i=e(t,n,{direction:"both"}),l=r?0:1,u=null,o=null,c=null,f;function a(){c&&Ye(t,c)}function _(p,y){const h=p.b-l;return y*=Math.abs(h),{a:l,b:p.b,d:h,duration:y,start:p.start,end:p.start+y,group:p.group}}function m(p){const{delay:y=0,duration:h=300,easing:b=Ge,tick:w=F,css:S}=i||dt,g={start:Xe()+y,b:p};p||(g.group=oe,oe.r+=1),"inert"in t&&(p?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),u||o?o=g:(S&&(a(),c=Ve(t,l,p,h,y,b,S)),p&&w(0,1),u=_(g,h),z(()=>_e(t,p,"start")),He(v=>{if(o&&v>o.start&&(u=_(o,h),o=null,_e(t,u.b,"start"),S&&(a(),c=Ve(t,l,u.b,u.duration,0,b,i.css))),u){if(v>=u.end)w(l=u.b,1-l),_e(t,u.b,"end"),o||(u.b?a():--u.group.r||te(u.group.c)),u=null;else if(v>=u.start){const I=v-u.start;l=u.a+u.d*b(I/u.duration),w(l,1-l)}}return!!(u||o)}))}return{run(p){Oe(i)?at().then(()=>{i=i({direction:p?"in":"out"}),m(p)}):m(p)},end(){a(),u=o=null}}}function H(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function dn(t,e){const n={},r={},s={$$scope:1};let i=t.length;for(;i--;){const l=t[i],u=e[i];if(u){for(const o in l)o in u||(r[o]=1);for(const o in u)s[o]||(n[o]=u[o],s[o]=1);t[i]=u}else for(const o in l)s[o]=1}for(const l in r)l in n||(n[l]=void 0);return n}function _n(t){return typeof t=="object"&&t!==null?t:{}}function ie(t){t&&t.c()}function W(t,e,n){const{fragment:r,after_update:s}=t.$$;r&&r.m(e,n),z(()=>{const i=t.$$.on_mount.map(sn).filter(Oe);t.$$.on_destroy?t.$$.on_destroy.push(...i):te(i),t.$$.on_mount=[]}),s.forEach(z)}function J(t,e){const n=t.$$;n.fragment!==null&&(Fn(n.after_update),te(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Bn(t,e){t.$$.dirty[0]===-1&&(be.push(t),On(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ne(t,e,n,r,s,i,l,u=[-1]){const o=Ke;Me(t);const c=t.$$={fragment:null,ctx:[],props:i,update:F,not_equal:s,bound:mt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:mt(),dirty:u,skip_bound:!1,root:e.target||o.$$.root};l&&l(c.root);let f=!1;if(c.ctx=n?n(t,e.props||{},(a,_,...m)=>{const p=m.length?m[0]:_;return c.ctx&&s(c.ctx[a],c.ctx[a]=p)&&(!c.skip_bound&&c.bound[a]&&c.bound[a](p),f&&Bn(t,a)),_}):[],c.update(),f=!0,te(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const a=Cn(e.target);c.fragment&&c.fragment.l(a),a.forEach(A)}else c.fragment&&c.fragment.c();e.intro&&k(t.$$.fragment),W(t,e.target,e.anchor),an()}Me(o)}class re{constructor(){Qe(this,"$$");Qe(this,"$$set")}$destroy(){J(this,1),this.$destroy=F}$on(e,n){if(!Oe(n))return F;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!wn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Zn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Zn);const he=[];function Ae(t,e=F){let n;const r=new Set;function s(u){if(Z(t,u)&&(t=u,n)){const o=!he.length;for(const c of r)c[1](),he.push(c,t);if(o){for(let c=0;c<he.length;c+=2)he[c][0](he[c+1]);he.length=0}}}function i(u){s(u(t))}function l(u,o=F){const c=[u,o];return r.add(c),r.size===1&&(n=e(s,i)||F),u(t),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:l}}const _t=Ae({fallbackResourceName:"debug",allowEscapeKey:!0}),Vn=Ae(window.GetParentResourceName?window.GetParentResourceName():Ee(_t).DEBUG_RESOURCE_NAME),pn=Ae(!window.invokeNative),bt=Ae(!1);var j=(t=>(t.visible="ui:visible",t.start="ui:start",t))(j||{}),pt=(t=>(t.close="ui:close",t.finish="ui:finish",t))(pt||{}),ae=(t=>(t.down="keydown",t.up="keyup",t.pressed="keypress",t))(ae||{});const We=Ee(pn),Yn=Ee(Vn),ot=[];async function Gn(t,e={}){if(We==!0){const s=await Xn(t,e);return Promise.resolve(s)}const n={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(e)};return await(await fetch(`https://${Yn}/${t}`,n)).json()}function mn(t,e){const n=r=>{const{action:s,data:i}=r.data;s===t&&e(i)};qe(()=>window.addEventListener("message",n)),Kn(()=>window.removeEventListener("message",n))}async function ce(t,e,n=0){We&&setTimeout(()=>{const r=new MessageEvent("message",{data:{action:t,data:e}});window.dispatchEvent(r)},n)}async function jn(t,e){if(We){if(ot[t]!==void 0){console.log(`%c[DEBUG] %c${t} %cevent already has a debug receiver.`,"color: red; font-weight: bold;","color: green","");return}ot[t]=e}}async function Xn(t,e){if(!We)return;const n=ot[t];return n===void 0?(console.log(`[DEBUG] ${t} event does not have a debugger.`),{}):await n(e)}const Hn=()=>{const t=Ae({active:!1});return{...t,...{start:n=>{let{type:r,iterations:s,config:i}=n;s=s||1,t.update(l=>({active:!0,type:r,iterations:s,config:i}))},finish:(n=!1)=>{t.update(r=>(Gn(pt.finish,n),{active:!1}))}}}},K=Hn(),qn=[{action:j.visible,handler:t=>{}},{action:j.start,handler:t=>{K.start(t)}}];function Wn(){for(const t of qn)mn(t.action,t.handler)}function yt(t){let e,n;const r=t[2].default,s=vn(r,t,t[1],null);return{c(){e=T("main"),s&&s.c(),d(e,"class","svelte-1w09ye1")},m(i,l){L(i,e,l),s&&s.m(e,null),n=!0},p(i,l){s&&s.p&&(!n||l&2)&&Sn(s,r,i,i[1],n?kn(r,i[1],l,null):En(i[1]),null)},i(i){n||(k(s,i),n=!0)},o(i){C(s,i),n=!1},d(i){i&&A(e),s&&s.d(i)}}}function Jn(t){let e,n,r=t[0]&&yt(t);return{c(){r&&r.c(),e=Y()},m(s,i){r&&r.m(s,i),L(s,e,i),n=!0},p(s,[i]){s[0]?r?(r.p(s,i),i&1&&k(r,1)):(r=yt(s),r.c(),k(r,1),r.m(e.parentNode,e)):r&&($(),C(r,1,1,()=>{r=null}),B())},i(s){n||(k(r),n=!0)},o(s){C(r),n=!1},d(s){s&&A(e),r&&r.d(s)}}}function Qn(t,e,n){let r,s,i;G(t,K,o=>n(3,r=o)),G(t,bt,o=>n(0,s=o)),G(t,_t,o=>n(4,i=o));let{$$slots:l={},$$scope:u}=e;return mn(j.visible,o=>{In(bt,s=o,s)}),qe(()=>{if(!i.allowEscapeKey)return;const o=c=>{s&&["Escape"].includes(c.code)&&r.active&&K.finish(!1)};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)}),t.$$set=o=>{"$$scope"in o&&n(1,u=o.$$scope)},[s,u,l]}class xn extends re{constructor(e){super(),ne(this,e,Qn,Jn,Z,{})}}function ut(t){ce(j.visible,t)}const er=[{label:"Visible",action:()=>ut(!0),delay:500}];function tr(){for(const t of er)setTimeout(()=>{t.action()},t.delay||0)}const nr=[{action:pt.close,handler:()=>{}}];function rr(){for(const t of nr)jn(t.action,t.handler)}var X=(t=>(t.CircleProgress="CircleProgress",t.Progress="Progress",t.KeyCircle="KeyCircle",t.KeySpam="KeySpam",t.NumberSlide="NumberSlide",t.RapidLines="RapidLines",t))(X||{});const Fe=[{label:"Visibility",actions:[{label:"True",action:()=>ut(!0)},{label:"False",action:()=>ut(!1)}]},{label:"CircleProgress",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t};ce(j.start,{type:X.CircleProgress,iterations:10,config:e})},value:50,type:"slider"}]},{label:"Progress",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t};ce(j.start,{type:X.Progress,iterations:10,config:e})},value:50,type:"slider"}]},{label:"KeyCircle",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t,numberOfKeys:2};ce(j.start,{type:X.KeyCircle,iterations:1,config:e})},value:50,type:"slider"}]},{label:"KeySpam",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t};ce(j.start,{type:X.KeySpam,iterations:1,config:e})},value:50,type:"slider"}]},{label:"NumberSlide",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t,numberOfKeys:10};ce(j.start,{type:X.NumberSlide,iterations:1,config:e})},value:50,type:"slider"}]},{label:"RapidLines",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t,numberOfKeys:10};ce(j.start,{type:X.RapidLines,iterations:1,config:e})},value:50,type:"slider"}]}];function wt(t,e,n){const r=t.slice();return r[12]=e[n].label,r[13]=e[n].actions,r}function vt(t,e,n){const r=t.slice();return r[16]=e[n],r[17]=e,r[18]=n,r}function kt(t){let e,n=H(t[0]),r=[];for(let s=0;s<n.length;s+=1)r[s]=Et(wt(t,n,s));return{c(){e=T("ol");for(let s=0;s<r.length;s+=1)r[s].c();d(e,"class","flex flex-col gap-2 bg-primary z-[9999999] max-w-[25vw] h-full px-[0.5vw] py-[0.5vw]")},m(s,i){L(s,e,i);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(e,null)},p(s,i){if(i&1){n=H(s[0]);let l;for(l=0;l<n.length;l+=1){const u=wt(s,n,l);r[l]?r[l].p(u,i):(r[l]=Et(u),r[l].c(),r[l].m(e,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(s){s&&A(e),Ie(r,s)}}}function sr(t){let e,n=t[16].label+"",r,s,i;function l(){return t[11](t[16])}return{c(){e=T("button"),r=q(n),d(e,"class","w-full px-[0.5vw] py-[0.25vw] bg-accent")},m(u,o){L(u,e,o),E(e,r),s||(i=ee(e,"click",l),s=!0)},p(u,o){t=u,o&1&&n!==(n=t[16].label+"")&&ue(r,n)},d(u){u&&A(e),s=!1,i()}}}function lr(t){let e,n,r=t[16].label+"",s,i,l,u,o,c,f,a,_,m;function p(){t[9].call(l,t[17],t[18])}function y(){return t[10](t[16])}return{c(){e=T("span"),n=T("p"),s=q(r),i=U(),l=T("input"),f=U(),a=T("button"),a.textContent="Action",d(l,"type","range"),d(l,"class","w-full"),d(l,"min",u=t[16].min||0),d(l,"max",o=t[16].max||100),d(l,"step",c=t[16].step||1),d(a,"class","px-[0.5vw] py-[0.25vw] w-[5vw] bg-accent border-primary border-2"),d(e,"class","w-full px-[0.5vw] py-[0.25vw] flex flex-col gap-[0.2vw] bg-accent items-start")},m(h,b){L(h,e,b),E(e,n),E(n,s),E(e,i),E(e,l),$e(l,t[16].value),E(e,f),E(e,a),_||(m=[ee(l,"change",p),ee(l,"input",p),ee(a,"click",y)],_=!0)},p(h,b){t=h,b&1&&r!==(r=t[16].label+"")&&ue(s,r),b&1&&u!==(u=t[16].min||0)&&d(l,"min",u),b&1&&o!==(o=t[16].max||100)&&d(l,"max",o),b&1&&c!==(c=t[16].step||1)&&d(l,"step",c),b&1&&$e(l,t[16].value)},d(h){h&&A(e),_=!1,te(m)}}}function ir(t){let e,n,r=t[16].label+"",s,i,l,u,o;function c(){t[7].call(l,t[17],t[18])}function f(...a){return t[8](t[16],...a)}return{c(){e=T("span"),n=T("p"),s=q(r),i=U(),l=T("input"),d(l,"type","checkbox"),d(l,"class","h-full aspect-square"),d(e,"class","w-full px-[0.5vw] py-[0.25vw] flex flex-row gap-[0.2vw] bg-accent items-center")},m(a,_){L(a,e,_),E(e,n),E(n,s),E(e,i),E(e,l),l.checked=t[16].value,u||(o=[ee(l,"change",c),ee(l,"input",f)],u=!0)},p(a,_){t=a,_&1&&r!==(r=t[16].label+"")&&ue(s,r),_&1&&(l.checked=t[16].value)},d(a){a&&A(e),u=!1,te(o)}}}function or(t){let e,n,r=t[16].label+"",s,i,l,u,o,c,f;function a(){t[5].call(l,t[17],t[18])}function _(){return t[6](t[16])}return{c(){e=T("span"),n=T("p"),s=q(r),i=U(),l=T("input"),u=U(),o=T("button"),o.textContent="Apply",d(n,"class",""),d(l,"type","text"),d(l,"class","h-full w-full text-[color:var(--text-secondary)] px-[0.25vw]"),d(o,"class","px-[0.5vw] py-[0.25vw] w-[5vw] bg-primary"),d(e,"class","w-full px-[0.5vw] py-[0.25vw] flex flex-col gap-[0.2vw] bg-accent items-start")},m(m,p){L(m,e,p),E(e,n),E(n,s),E(e,i),E(e,l),$e(l,t[16].value),E(e,u),E(e,o),c||(f=[ee(l,"input",a),ee(o,"click",_)],c=!0)},p(m,p){t=m,p&1&&r!==(r=t[16].label+"")&&ue(s,r),p&1&&l.value!==t[16].value&&$e(l,t[16].value)},d(m){m&&A(e),c=!1,te(f)}}}function St(t){let e;function n(i,l){return i[16].type==="text"?or:i[16].type==="checkbox"?ir:i[16].type==="slider"?lr:sr}let r=n(t),s=r(t);return{c(){e=T("div"),s.c(),d(e,"class","flex flex-row flex-wrap gap-[0.5vw]")},m(i,l){L(i,e,l),s.m(e,null)},p(i,l){r===(r=n(i))&&s?s.p(i,l):(s.d(1),s=r(i),s&&(s.c(),s.m(e,null)))},d(i){i&&A(e),s.d()}}}function Et(t){let e,n,r=t[12]+"",s,i,l,u=H(t[13]),o=[];for(let c=0;c<u.length;c+=1)o[c]=St(vt(t,u,c));return{c(){e=T("li"),n=T("span"),s=q(r),i=U();for(let c=0;c<o.length;c+=1)o[c].c();l=U(),d(n,"class","w-full text-black"),d(e,"class","flex flex-col gap-1 border-l-[2px] border-[color:var(--accent)] px-[0.25vw]")},m(c,f){L(c,e,f),E(e,n),E(n,s),E(e,i);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(e,null);E(e,l)},p(c,f){if(f&1&&r!==(r=c[12]+"")&&ue(s,r),f&1){u=H(c[13]);let a;for(a=0;a<u.length;a+=1){const _=vt(c,u,a);o[a]?o[a].p(_,f):(o[a]=St(_),o[a].c(),o[a].m(e,l))}for(;a<o.length;a+=1)o[a].d(1);o.length=u.length}},d(c){c&&A(e),Ie(o,c)}}}function ur(t){let e,n,r,s,i,l,u,o=t[1]&&kt(t);return{c(){e=T("div"),n=T("button"),n.textContent="Debug",r=U(),o&&o.c(),s=U(),i=T("div"),d(n,"class","px-[1vw] py-[0.5vw] w-fit h-fit z-[9999999] bg-accent"),D(i,"background-image","url('https://cdn.discordapp.com/attachments/1068663854143389788/1074878298498281554/HUD_-_Target_Menu.png')"),d(i,"class","absolute w-screen bg-cover bg-no-repeat bg-center h-screen top-0 left-0 dev-image"),d(e,"class","w-fit h-fit flex flex-col z-[9999999]")},m(c,f){L(c,e,f),E(e,n),E(e,r),o&&o.m(e,null),E(e,s),E(e,i),l||(u=[ee(window,"keydown",t[2]),ee(window,"keyup",t[3]),ee(n,"click",t[4])],l=!0)},p(c,[f]){c[1]?o?o.p(c,f):(o=kt(c),o.c(),o.m(e,s)):o&&(o.d(1),o=null)},i:F,o:F,d(c){c&&A(e),o&&o.d(),l=!1,te(u)}}}function cr(t,e,n){qe(()=>{tr(),rr()});function r(p){ce(j.keydown,p)}function s(p){ce(j.keyup,p)}let i=!1;const l=()=>n(1,i=!i);function u(p,y){p[y].value=this.value,n(0,Fe)}const o=p=>{p.action(p.value)};function c(p,y){p[y].value=this.checked,n(0,Fe)}const f=(p,y)=>{p.action(p.value)};function a(p,y){p[y].value=Nn(this.value),n(0,Fe)}return[Fe,i,r,s,l,u,o,c,f,a,p=>{p.action(p.value)},p=>{p.action()}]}class fr extends re{constructor(e){super(),ne(this,e,cr,ur,Z,{})}}async function Le(t){return new Promise(e=>setTimeout(e,t))}function It(t){return Object.prototype.toString.call(t)==="[object Date]"}function ar(t){const e=t-1;return e*e*e+1}function ct(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=e.map((s,i)=>ct(t[i],s));return s=>r.map(i=>i(s))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(It(t)&&It(e)){t=t.getTime(),e=e.getTime();const i=e-t;return l=>new Date(t+l*i)}const r=Object.keys(e),s={};return r.forEach(i=>{s[i]=ct(t[i],e[i])}),i=>{const l={};return r.forEach(u=>{l[u]=s[u](i)}),l}}if(n==="number"){const r=e-t;return s=>t+s*r}throw new Error(`Cannot interpolate ${n} values`)}function Ne(t,e={}){const n=Ae(t);let r,s=t;function i(l,u){if(t==null)return n.set(t=l),Promise.resolve();s=l;let o=r,c=!1,{delay:f=0,duration:a=400,easing:_=Ge,interpolate:m=ct}=De(De({},e),u);if(a===0)return o&&(o.abort(),o=null),n.set(t=s),Promise.resolve();const p=Xe()+f;let y;return r=He(h=>{if(h<p)return!0;c||(y=m(t,l),typeof a=="function"&&(a=a(t,l)),c=!0),o&&(o.abort(),o=null);const b=h-p;return b>a?(n.set(t=l),!1):(n.set(t=y(_(b/a))),!0)}),r.promise}return{set:i,update:(l,u)=>i(l(s,t),u),subscribe:n.subscribe}}function O(t,{delay:e=0,duration:n=400,easing:r=ar,start:s=0,opacity:i=0}={}){const l=getComputedStyle(t),u=+l.opacity,o=l.transform==="none"?"":l.transform,c=1-s,f=u*(1-i);return{delay:e,duration:n,easing:r,css:(a,_)=>`
			transform: ${o} scale(${1-c*_});
			opacity: ${u-f*_}
		`}}const Se={DURATION:{MIN:500,MAX:3e3},SIZE:{MIN:2,MAX:40},FALLBACK_DIFFICULTY:50},et={DURATION:{MIN:250,MAX:1500},FALLBACK_NUM_KEYS:3,FALLBACK_DIFFICULTY:50},At={DURATION:{MIN:750,MAX:5e3},FALLBACK_DIFFICULTY:50},de={DURATION:{MIN:500,MAX:7500},ZONE_SIZE:15,FALLBACK_NUM_KEYS:3,FALLBACK_DIFFICULTY:50},ye={DURATION:{MIN:500,MAX:3e3},ZONE:{MIN:5,MAX:40},ZONE_FROM_RIGHT:95,FALLBACK_DIFFICULTY:50,FALLBACK_NUM_LINES:3},me={Primary:"E",Secondary:"Q",Numbers:["1","2","3","4","5"],PrimarySet:["W","A","S","D"],SecondarySet:["I","J","K","L"]};function Q(t){const e=me[t];return e[Math.floor(Math.random()*e.length)]}function pe(t,e){function n(){window.removeEventListener(t,e)}return window.addEventListener(t,e),{removeListener:n}}function tt(t){const e=t.slice(),n=e[1].target;return e[17]=n.size,e[18]=n.rotation,e}function Lt(t){let e,n,r=t[1].target,s,i,l,u,o=Nt(t),c=t[1]&&Ct(tt(t));return{c(){e=T("div"),n=T("div"),o.c(),s=U(),i=x("svg"),c&&c.c(),d(n,"style",t[7]),d(n,"class","absolute secondary-shadow grid place-items-center bg-primary-50 rounded-full"),d(i,"style",t[6]),d(i,"version","1.1"),d(i,"class","z-0 absolute overflow-visible"),d(i,"xmlns","http://www.w3.org/2000/svg"),d(e,"style",t[6]),d(e,"class","grid place-items-center primary-shadow default-game-position rounded-full")},m(f,a){L(f,e,a),E(e,n),o.m(n,null),E(e,s),E(e,i),c&&c.m(i,null),u=!0},p(f,a){a&2&&Z(r,r=f[1].target)?($(),C(o,1,1,F),B(),o=Nt(f),o.c(),k(o,1),o.m(n,null)):o.p(f,a),f[1]?c?c.p(tt(f),a):(c=Ct(tt(f)),c.c(),c.m(i,null)):c&&(c.d(1),c=null)},i(f){u||(k(o),f&&z(()=>{u&&(l||(l=P(e,O,{},!0)),l.run(1))}),u=!0)},o(f){C(o),f&&(l||(l=P(e,O,{},!1)),l.run(0)),u=!1},d(f){f&&A(e),o.d(f),c&&c.d(),f&&l&&l.end()}}}function Nt(t){let e,n=t[1].key+"",r,s,i;return{c(){e=T("p"),r=q(n),d(e,"class","text-shadow absolute font-bold text-[2vw]")},m(l,u){L(l,e,u),E(e,r),i=!0},p(l,u){(!i||u&2)&&n!==(n=l[1].key+"")&&ue(r,n)},i(l){i||(l&&z(()=>{i&&(s||(s=P(e,O,{duration:100},!0)),s.run(1))}),i=!0)},o(l){l&&(s||(s=P(e,O,{duration:100},!1)),s.run(0)),i=!1},d(l){l&&A(e),l&&s&&s.end()}}}function Ct(t){let e,n,r,s,i;return{c(){e=x("circle"),n=x("circle"),s=x("circle"),D(e,"stroke-width",we*.1+"vw"),d(e,"class","absolute fill-none stroke-primary-50"),d(e,"cx","50%"),d(e,"cy","50%"),d(e,"r",we*.95+"vw"),D(n,"transform","rotate("+(-90+t[18])+"deg)"),d(n,"class","absolute radial stroke-primary origin-center target-segment svelte-1s27jpb"),d(n,"stroke-dasharray",t[5]+"vw"),d(n,"stroke-dashoffset",r=t[5]*((100-t[17])/100)+"vw"),d(n,"stroke-width",Tt+"vw"),d(n,"fill-opacity","0"),d(n,"cx","50%"),d(n,"cy","50%"),d(n,"r",we*.9+"vw"),D(s,"transform","rotate("+(-90+t[3]/100*360)+"deg)"),d(s,"class",i="absolute origin-center default-colour-transition "+(t[2]==="success"?"glow-success stroke-success":t[2]==="fail"?"glow-fail stroke-fail":"stroke-accent glow-accent")),d(s,"stroke-dasharray",t[5]+"vw"),d(s,"stroke-dashoffset",t[5]*((100-gn)/100)+"vw"),d(s,"stroke-width",Tt+"vw"),d(s,"fill-opacity","0"),d(s,"cx","50%"),d(s,"cy","50%"),d(s,"r",we*.9+"vw")},m(l,u){L(l,e,u),L(l,n,u),L(l,s,u)},p(l,u){u&2&&D(n,"transform","rotate("+(-90+l[18])+"deg)"),u&2&&r!==(r=l[5]*((100-l[17])/100)+"vw")&&d(n,"stroke-dashoffset",r),u&8&&D(s,"transform","rotate("+(-90+l[3]/100*360)+"deg)"),u&4&&i!==(i="absolute origin-center default-colour-transition "+(l[2]==="success"?"glow-success stroke-success":l[2]==="fail"?"glow-fail stroke-fail":"stroke-accent glow-accent"))&&d(s,"class",i)},d(l){l&&(A(e),A(n),A(s))}}}function dr(t){let e,n=t[0]&&Lt(t);return{c(){n&&n.c(),e=Y()},m(r,s){n&&n.m(r,s),L(r,e,s)},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&k(n,1)):(n=Lt(r),n.c(),k(n,1),n.m(e.parentNode,e)):n&&($(),C(n,1,1,()=>{n=null}),B())},i(r){k(n)},o(r){C(n)},d(r){r&&A(e),n&&n.d(r)}}}const gn=2,Tt=1,we=4;function _r(t,e,n){let r,s;G(t,K,g=>n(9,r=g));const i=Ne(0);G(t,i,g=>n(3,s=g));const l=we*2,u=2*Math.PI*we,o=`
        width: ${l}vw;
        height: ${l}vw;
    `,c=`
        width: ${l/2}vw;
        height: ${l/2}vw;
    `;let f=!1,a=null,_=null,m;K.subscribe(g=>{let v=g.active&&g.type===X.CircleProgress&&!a;v?(n(0,f=!0),b()):f&&!v&&(n(0,f=!1),n(1,a=null),n(2,_=null),p())});function p(){m==null||m.removeListener(),m=null}async function y(){if(!f)return;const g=a.duration;return i.set(100,{duration:g}),new Promise((v,I)=>{let N=setTimeout(()=>{v(!1)},g);m=pe(ae.pressed,M=>{const R=M.key.toUpperCase();if(me.Numbers.includes(R))if(clearTimeout(N),i.set(s,{duration:0}),R===a.key){const V=s/100*360,se=a.target.rotation,le=a.target.size*3.6,fe=gn*3.6;if(V>se-fe&&V<le+se)v(!0);else{v(!1);return}}else v(!1)})})}async function h(g,v){if(!f)return;p(),i.set(0,{duration:0});let{difficulty:I}=v;I=(I||Se.FALLBACK_DIFFICULTY)>=100?99:I<=0?5:I,n(1,a={target:S(I),duration:w(I),key:Q("Numbers")}),n(2,_=null),await Le(500);const N=await y();n(2,_=N?"success":"fail"),setTimeout(()=>{if(f)if(N&&g>0)if(g--,g>0)h(g,v);else{K.finish(!0),n(1,a=null);return}else{K.finish(!1),n(1,a=null);return}},500)}function b(){if(!r.active||a)return;const{iterations:g,config:v}=r;h(g,v)}function w(g){const{MIN:v,MAX:I}=Se.DURATION;let N=v+(I-v)*((100-g)/100);const M=N*.2,R=Math.random()*M;return N+=R,N}function S(g){g=g>=100?99:g<=0?5:g;const{MAX:v}=Se.SIZE,I=v-g/100*v;let N=90+Math.random()*120;return I*3.6+N>360&&(N-=I*3.6+N-360),{size:I,rotation:N}}return[f,a,_,s,i,u,o,c]}class pr extends re{constructor(e){super(),ne(this,e,_r,dr,Z,{})}}function nt(t){const e=t.slice(),n=e[1].target;return e[13]=n.size,e[14]=n.progress,e}function Mt(t){let e,n,r=t[1].target,s,i,l,u,o,c,f=Rt(t),a=t[1]&&Dt(nt(t));return{c(){e=T("div"),n=T("div"),f.c(),s=U(),i=T("div"),u=U(),a&&a.c(),d(n,"class","h-[2.5vw] aspect-square absolute grid place-items-center center-y secondary-shadow bg-primary-50 -translate-x-[130%]"),D(i,"left",t[3]+"%"),D(i,"width",hn+"vw"),d(i,"class",l="h-[1vw] center-y z-[10] absolute origin-center default-colour-transition "+(t[2]==="success"?"glow-success bg-success":t[2]==="fail"?"glow-fail bg-fail":"bg-accent glow-accent")),d(e,"class","primary-shadow default-game-position w-[20vw] h-[0.5vw] bg-primary-50")},m(_,m){L(_,e,m),E(e,n),f.m(n,null),E(e,s),E(e,i),E(e,u),a&&a.m(e,null),c=!0},p(_,m){m&2&&Z(r,r=_[1].target)?($(),C(f,1,1,F),B(),f=Rt(_),f.c(),k(f,1),f.m(n,null)):f.p(_,m),(!c||m&8)&&D(i,"left",_[3]+"%"),(!c||m&4&&l!==(l="h-[1vw] center-y z-[10] absolute origin-center default-colour-transition "+(_[2]==="success"?"glow-success bg-success":_[2]==="fail"?"glow-fail bg-fail":"bg-accent glow-accent")))&&d(i,"class",l),_[1]?a?a.p(nt(_),m):(a=Dt(nt(_)),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(_){c||(k(f),_&&z(()=>{c&&(o||(o=P(e,O,{},!0)),o.run(1))}),c=!0)},o(_){C(f),_&&(o||(o=P(e,O,{},!1)),o.run(0)),c=!1},d(_){_&&A(e),f.d(_),a&&a.d(),_&&o&&o.end()}}}function Rt(t){let e,n=t[1].key+"",r,s,i;return{c(){e=T("p"),r=q(n),d(e,"class","text-shadow absolute font-bold text-[2vw]")},m(l,u){L(l,e,u),E(e,r),i=!0},p(l,u){(!i||u&2)&&n!==(n=l[1].key+"")&&ue(r,n)},i(l){i||(l&&z(()=>{i&&(s||(s=P(e,O,{duration:100},!0)),s.run(1))}),i=!0)},o(l){l&&(s||(s=P(e,O,{duration:100},!1)),s.run(0)),i=!1},d(l){l&&A(e),l&&s&&s.end()}}}function Dt(t){let e;return{c(){e=T("div"),D(e,"left",t[14]+"%"),D(e,"width",t[13]+"%"),d(e,"class","h-[1vw] center-y absolute origin-center bg-primary z-0 target-segment svelte-1s27jpb")},m(n,r){L(n,e,r)},p(n,r){r&2&&D(e,"left",n[14]+"%"),r&2&&D(e,"width",n[13]+"%")},d(n){n&&A(e)}}}function mr(t){let e,n=t[0]&&Mt(t);return{c(){n&&n.c(),e=Y()},m(r,s){n&&n.m(r,s),L(r,e,s)},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&k(n,1)):(n=Mt(r),n.c(),k(n,1),n.m(e.parentNode,e)):n&&($(),C(n,1,1,()=>{n=null}),B())},i(r){k(n)},o(r){C(n)},d(r){r&&A(e),n&&n.d(r)}}}const hn=.5;function gr(t,e,n){let r,s;G(t,K,h=>n(6,r=h));const i=Ne(0);G(t,i,h=>n(3,s=h));let l=!1,u=null,o=null,c;K.subscribe(h=>{let b=h.active&&h.type===X.Progress&&!u;b?(n(0,l=!0),m()):l&&!b&&(n(0,l=!1),n(1,u=null),f())});function f(){c==null||c.removeListener(),c=null}async function a(){if(!l)return;const h=u.duration;return i.set(100,{duration:h}),new Promise((b,w)=>{let S=setTimeout(()=>{b(!1)},h);c=pe(ae.pressed,g=>{const v=g.key.toUpperCase();if(me.Numbers.includes(v))if(clearTimeout(S),i.set(s,{duration:0}),v===u.key){const I=u.target.progress,N=u.target.size,M=s;if(M>I-hn&&M<N+I)b(!0);else{b(!1);return}}else b(!1)})})}async function _(h,b){if(!l)return;f(),i.set(0,{duration:0});let{difficulty:w}=b;w=(w||Se.FALLBACK_DIFFICULTY)>=100?99:w<=0?5:w,n(1,u={target:y(w),duration:p(w),key:Q("Numbers")}),await Le(500);const S=await a();n(2,o=S?"success":"fail"),setTimeout(()=>{if(l)if(n(2,o=null),S&&h>0)if(h--,h>0)_(h,b);else{K.finish(!0),n(1,u=null);return}else{K.finish(!1),n(1,u=null);return}},500)}function m(){if(!r.active||u)return;const{iterations:h,config:b}=r;_(h,b)}function p(h){const{MIN:b,MAX:w}=Se.DURATION;let S=b+(w-b)*((100-h)/100);const g=S*.2,v=Math.random()*g;return S+=v,S}function y(h){h=h>=100?99:h<=0?5:h;const{MAX:b}=Se.SIZE,w=b-h/100*b,S=30,g=100-w,v=Math.random()*(g-S)+S;return{size:w,progress:v}}return[l,u,o,s,i]}class hr extends re{constructor(e){super(),ne(this,e,gr,mr,Z,{})}}function Kt(t,e,n){const r=t.slice();return r[19]=e[n],r[21]=n,r}function rt(t){const e=t.slice(),n=e[1];return e[17]=n.stages,e[18]=n.currentStage,e}function st(t){const e=t.slice(),n=e[1];return e[17]=n.stages,e}function Ut(t,e,n){const r=t.slice();return r[22]=e[n],r}function Ot(t){let e,n,r,s,i,l,u,o=t[1]&&Pt(t),c=t[1]&&$t(st(t)),f=t[1]&&Bt(rt(t));return{c(){e=T("div"),o&&o.c(),n=U(),r=x("svg"),s=x("circle"),c&&c.c(),i=U(),f&&f.c(),D(s,"stroke-width",Ue*.1+"vw"),d(s,"class","absolute fill-none stroke-primary-50"),d(s,"cx","50%"),d(s,"cy","50%"),d(s,"r",Ue*.95+"vw"),d(r,"style",t[6]),d(r,"version","1.1"),d(r,"class","z-0 absolute overflow-visible -rotate-90"),d(r,"xmlns","http://www.w3.org/2000/svg"),d(e,"style",t[6]),d(e,"class","grid place-items-center primary-shadow default-game-position rounded-full w-fit h-fit")},m(a,_){L(a,e,_),o&&o.m(e,null),E(e,n),E(e,r),E(r,s),c&&c.m(r,null),E(e,i),f&&f.m(e,null),u=!0},p(a,_){a[1]?o?(o.p(a,_),_&2&&k(o,1)):(o=Pt(a),o.c(),k(o,1),o.m(e,n)):o&&($(),C(o,1,1,()=>{o=null}),B()),a[1]?c?c.p(st(a),_):(c=$t(st(a)),c.c(),c.m(r,null)):c&&(c.d(1),c=null),a[1]?f?f.p(rt(a),_):(f=Bt(rt(a)),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(a){u||(k(o),a&&z(()=>{u&&(l||(l=P(e,O,{},!0)),l.run(1))}),u=!0)},o(a){C(o),a&&(l||(l=P(e,O,{},!1)),l.run(0)),u=!1},d(a){a&&A(e),o&&o.d(),c&&c.d(),f&&f.d(),a&&l&&l.end()}}}function Pt(t){let e=t[1].keys,n,r,s=zt(t);return{c(){s.c(),n=Y()},m(i,l){s.m(i,l),L(i,n,l),r=!0},p(i,l){l&2&&Z(e,e=i[1].keys)?($(),C(s,1,1,F),B(),s=zt(i),s.c(),k(s,1),s.m(n.parentNode,n)):s.p(i,l)},i(i){r||(k(s),r=!0)},o(i){C(s),r=!1},d(i){i&&A(n),s.d(i)}}}function Ft(t){let e,n,r=t[22]+"",s,i,l,u;return{c(){e=T("div"),n=T("p"),s=q(r),l=U(),d(n,"class","text-shadow absolute font-bold text-[2vw]"),d(e,"style",t[7]),d(e,"class","grid place-items-center secondary-shadow bg-primary-50")},m(o,c){L(o,e,c),E(e,n),E(n,s),E(e,l),u=!0},p(o,c){(!u||c&2)&&r!==(r=o[22]+"")&&ue(s,r)},i(o){u||(o&&z(()=>{u&&(i||(i=P(n,O,{duration:100},!0)),i.run(1))}),u=!0)},o(o){o&&(i||(i=P(n,O,{duration:100},!1)),i.run(0)),u=!1},d(o){o&&A(e),o&&i&&i.end()}}}function zt(t){var u;let e,n,r,s=H((u=t[1])==null?void 0:u.keys),i=[];for(let o=0;o<s.length;o+=1)i[o]=Ft(Ut(t,s,o));const l=o=>C(i[o],1,1,()=>{i[o]=null});return{c(){e=T("div");for(let o=0;o<i.length;o+=1)i[o].c();d(e,"class","flex flex-row items-center justify-center absolute")},m(o,c){L(o,e,c);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(e,null);r=!0},p(o,c){var f;if(c&130){s=H((f=o[1])==null?void 0:f.keys);let a;for(a=0;a<s.length;a+=1){const _=Ut(o,s,a);i[a]?(i[a].p(_,c),k(i[a],1)):(i[a]=Ft(_),i[a].c(),k(i[a],1),i[a].m(e,null))}for($(),a=s.length;a<i.length;a+=1)l(a);B()}},i(o){if(!r){for(let c=0;c<s.length;c+=1)k(i[c]);o&&z(()=>{r&&(n||(n=P(e,O,{},!0)),n.run(1))}),r=!0}},o(o){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)C(i[c]);o&&(n||(n=P(e,O,{},!1)),n.run(0)),r=!1},d(o){o&&A(e),Ie(i,o),o&&n&&n.end()}}}function $t(t){let e,n;return{c(){e=x("circle"),D(e,"transform","rotate("+(1/t[17]*360-90)+"deg)"),d(e,"class","absolute stroke-primary origin-center"),d(e,"stroke-dasharray",t[5]+"vw"),d(e,"stroke-dashoffset",n=t[5]*((100-t[3])/100)+"vw"),d(e,"stroke-width",yr+"vw"),d(e,"fill-opacity","0"),d(e,"cx","50%"),d(e,"cy","50%"),d(e,"r",Ue*.95+"vw")},m(r,s){L(r,e,s)},p(r,s){s&2&&D(e,"transform","rotate("+(1/r[17]*360-90)+"deg)"),s&8&&n!==(n=r[5]*((100-r[3])/100)+"vw")&&d(e,"stroke-dashoffset",n)},d(r){r&&A(e)}}}function Bt(t){let e,n=H({length:t[17]}),r=[];for(let s=0;s<n.length;s+=1)r[s]=Zt(Kt(t,n,s));return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=Y()},m(s,i){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(s,i);L(s,e,i)},p(s,i){if(i&70){n=H({length:s[17]});let l;for(l=0;l<n.length;l+=1){const u=Kt(s,n,l);r[l]?r[l].p(u,i):(r[l]=Zt(u),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(s){s&&A(e),Ie(r,s)}}}function Zt(t){let e,n,r,s,i;return{c(){e=T("div"),n=T("div"),s=U(),d(n,"class",r="absolute w-[0.5vw] h-[1vw] default-colour-transition -translate-y-1/4 center-x "+(t[2]=="fail"?"bg-fail glow-fail":t[18]===t[21]||t[18]===t[17]&&t[21]===0?"bg-accent glow-accent":t[18]>=t[21]&&t[21]!==0||t[2]==="success"?"bg-success glow-success":"bg-primary primary-shadow")),d(e,"style",i="transform: rotate("+((t[21]+1)/t[17]*360-90)+"deg);"+t[6]),d(e,"class","origin-center absolute")},m(l,u){L(l,e,u),E(e,n),E(e,s)},p(l,u){u&6&&r!==(r="absolute w-[0.5vw] h-[1vw] default-colour-transition -translate-y-1/4 center-x "+(l[2]=="fail"?"bg-fail glow-fail":l[18]===l[21]||l[18]===l[17]&&l[21]===0?"bg-accent glow-accent":l[18]>=l[21]&&l[21]!==0||l[2]==="success"?"bg-success glow-success":"bg-primary primary-shadow"))&&d(n,"class",r),u&2&&i!==(i="transform: rotate("+((l[21]+1)/l[17]*360-90)+"deg);"+l[6])&&d(e,"style",i)},d(l){l&&A(e)}}}function br(t){let e,n,r=t[0]&&Ot(t);return{c(){r&&r.c(),e=Y()},m(s,i){r&&r.m(s,i),L(s,e,i),n=!0},p(s,[i]){s[0]?r?(r.p(s,i),i&1&&k(r,1)):(r=Ot(s),r.c(),k(r,1),r.m(e.parentNode,e)):r&&($(),C(r,1,1,()=>{r=null}),B())},i(s){n||(k(r),n=!0)},o(s){C(r),n=!1},d(s){s&&A(e),r&&r.d(s)}}}const yr=.5,Ue=5;function wr(t,e,n){let r,s;G(t,K,g=>n(10,r=g));const i=Ne(0);G(t,i,g=>n(3,s=g));let l={};const u=Ue*2,o=2*Math.PI*Ue,c=`
        width: ${u}vw;
        height: ${u}vw;
    `,f=`
        width: ${u/4}vw;
        height: ${u/4}vw;
    `;let a=!1,_=null,m=null,p={Down:null,Up:null};K.subscribe(g=>{let v=g.active&&g.type===X.KeyCircle&&!_;v?(n(0,a=!0),w()):a&&!v&&(n(0,a=!1),n(1,_=null),n(2,m=null),y())});function y(){var g,v;(g=p.Down)==null||g.removeListener(),(v=p.Up)==null||v.removeListener(),p={Down:null,Up:null},l={}}async function h(){if(!a)return;const g=_.duration,{currentStage:v,stages:I,keys:N}=_,M=Math.floor(v/I*100);return i.set(M,{duration:g}),new Promise((R,V)=>{let se=setTimeout(()=>{R(!1)},g);y(),p.Down=pe(ae.down,le=>{if(!a||(l[le.key.toUpperCase()]=!0,m))return;const fe=Object.keys(l);if(fe.length===2){clearTimeout(se),y();const Ce=fe.includes(N[0]),Je=fe.includes(N[1]);if(i.set(M,{duration:0}),Ce&&Je){if(n(1,_.currentStage++,_),_.currentStage>_.stages){R(!0);return}n(1,_.keys=[Q("PrimarySet"),Q("SecondarySet")],_),R(h())}else{R(!1);return}}}),p.Up=pe(ae.up,le=>{delete l[le.key.toUpperCase()]})})}async function b(g,v){if(!a)return;y(),i.set(0,{duration:0});let{difficulty:I,numberOfKeys:N}=v;I=(I||et.FALLBACK_DIFFICULTY)>=100?99:I<=0?5:I,N=N||et.FALLBACK_NUM_KEYS,n(1,_={stages:N,currentStage:1,duration:S(I),keys:[Q("PrimarySet"),Q("SecondarySet")]}),n(2,m=null),await Le(500);const M=await h();n(2,m=M?"success":"fail"),setTimeout(()=>{if(a)if(M&&g>0)if(g--,g>0)b(g,v);else{K.finish(!0),n(1,_=null);return}else{K.finish(!1),n(1,_=null);return}},500)}function w(){if(!r.active||_)return;const{iterations:g,config:v}=r;b(g,v)}function S(g){const{MIN:v,MAX:I}=et.DURATION;let N=v+(I-v)*((100-g)/100);const M=N*.2,R=Math.random()*M;return N+=R,N}return[a,_,m,s,i,o,c,f]}class vr extends re{constructor(e){super(),ne(this,e,wr,br,Z,{})}}function lt(t){const e=t.slice(),n=e[1];return e[15]=n.size,e}function Vt(t){let e,n,r,s,i,l,u,o=t[1]&&Yt(t),c=t[1]&&jt(lt(t));return{c(){e=T("div"),n=T("div"),o&&o.c(),r=U(),s=x("svg"),i=x("circle"),c&&c.c(),l=x("circle"),d(n,"class","absolute grid place-items-center z-10"),D(i,"stroke-width",Re*.1+"vw z-0"),d(i,"class","absolute fill-primary-50"),d(i,"cx","50%"),d(i,"cy","50%"),d(i,"r",Re+"vw"),D(l,"transform","rotate(-90deg)"),d(l,"class","absolute radial stroke-primary origin-center target-segment secondary-shadow"),d(l,"stroke-dasharray",t[5]+"vw"),d(l,"stroke-dashoffset",u=t[5]*(-(100-t[3])/100)+"vw"),d(l,"stroke-width",Sr+"vw"),d(l,"fill-opacity","0"),d(l,"cx","50%"),d(l,"cy","50%"),d(l,"r",Re*.95+"vw"),d(s,"style",t[6]),d(s,"version","1.1"),d(s,"class","absolute overflow-visible"),d(s,"xmlns","http://www.w3.org/2000/svg"),d(e,"style",t[6]),d(e,"class","grid place-items-center primary-shadow default-game-position rounded-full")},m(f,a){L(f,e,a),E(e,n),o&&o.m(n,null),E(e,r),E(e,s),E(s,i),c&&c.m(s,null),E(s,l)},p(f,a){f[1]?o?o.p(f,a):(o=Yt(f),o.c(),o.m(n,null)):o&&(o.d(1),o=null),f[1]?c?c.p(lt(f),a):(c=jt(lt(f)),c.c(),c.m(s,l)):c&&(c.d(1),c=null),a&8&&u!==(u=f[5]*(-(100-f[3])/100)+"vw")&&d(l,"stroke-dashoffset",u)},d(f){f&&A(e),o&&o.d(),c&&c.d()}}}function Yt(t){let e=t[1].key,n,r=Gt(t);return{c(){r.c(),n=Y()},m(s,i){r.m(s,i),L(s,n,i)},p(s,i){i&2&&Z(e,e=s[1].key)?($(),C(r,1,1,F),B(),r=Gt(s),r.c(),k(r,1),r.m(n.parentNode,n)):r.p(s,i)},d(s){s&&A(n),r.d(s)}}}function Gt(t){let e,n=t[1].key+"",r,s,i,l;return{c(){e=T("p"),r=q(n),d(e,"class",s="text-shadow absolute font-bold text-[2vw] "+(!t[2]&&"animate-scale")+" svelte-zhs4mv")},m(u,o){L(u,e,o),E(e,r),l=!0},p(u,o){(!l||o&2)&&n!==(n=u[1].key+"")&&ue(r,n),(!l||o&4&&s!==(s="text-shadow absolute font-bold text-[2vw] "+(!u[2]&&"animate-scale")+" svelte-zhs4mv"))&&d(e,"class",s)},i(u){l||(u&&z(()=>{l&&(i||(i=P(e,O,{duration:100},!0)),i.run(1))}),l=!0)},o(u){u&&(i||(i=P(e,O,{duration:100},!1)),i.run(0)),l=!1},d(u){u&&A(e),u&&i&&i.end()}}}function jt(t){let e,n,r;return{c(){e=x("circle"),d(e,"class",n="absolute grid place-items-center default-colour-transition z-10 rounded-full "+(t[2]==="success"?"glow-success fill-success":t[2]==="fail"?"glow-fail fill-fail":"fill-accent glow-accent")),d(e,"cx","50%"),d(e,"cy","50%"),d(e,"r",r=t[15]/2+"%")},m(s,i){L(s,e,i)},p(s,i){i&4&&n!==(n="absolute grid place-items-center default-colour-transition z-10 rounded-full "+(s[2]==="success"?"glow-success fill-success":s[2]==="fail"?"glow-fail fill-fail":"fill-accent glow-accent"))&&d(e,"class",n),i&2&&r!==(r=s[15]/2+"%")&&d(e,"r",r)},d(s){s&&A(e)}}}function kr(t){let e,n=t[0]&&Vt(t);return{c(){n&&n.c(),e=Y()},m(r,s){n&&n.m(r,s),L(r,e,s)},p(r,[s]){r[0]?n?n.p(r,s):(n=Vt(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:F,o:F,d(r){r&&A(e),n&&n.d(r)}}}const Sr=.5,Re=4;function Er(t,e,n){let r,s;G(t,K,w=>n(8,r=w));const i=Ne(0);G(t,i,w=>n(3,s=w));const l=Re*2,u=2*Math.PI*Re,o=`
        width: ${l}vw;
        height: ${l}vw;
    `;let c=!1,f=null,a=null,_;K.subscribe(w=>{let S=w.active&&w.type===X.KeySpam&&!f;S?(n(0,c=!0),h()):c&&!S&&(n(0,c=!1),n(1,f=null),n(2,a=null),m())});function m(){_==null||_.removeListener(),_=null}async function p(){if(!c)return;const w=f.duration;return i.set(100,{duration:w}),new Promise((S,g)=>{let v=setInterval(()=>{c&&(n(1,f.size-=.1,f),f.size<=0&&n(1,f.size=0,f))},1),I=setTimeout(()=>{c&&(clearTimeout(I),clearInterval(v),S(!1))},w);_=pe(ae.pressed,N=>{const M=N.key.toUpperCase();if(me.PrimarySet.includes(M)&&M===f.key){let{size:R}=f;n(1,f.size=R+10,f),f.size>=100&&(n(1,f.size=100,f),clearTimeout(I),clearInterval(v),i.set(s,{duration:0}),S(!0))}})})}async function y(w,S){if(!c)return;m(),i.set(0,{duration:0});let{difficulty:g}=S;g=(g||At.FALLBACK_DIFFICULTY)>=100?99:g<=0?5:g,n(1,f={duration:b(g),key:Q("PrimarySet"),size:0}),n(2,a=null),await Le(500);const v=await p();m(),n(2,a=v?"success":"fail"),setTimeout(()=>{if(c)if(v&&w>0)if(w--,w>0)y(w,S);else{K.finish(!0),n(1,f=null);return}else{K.finish(!1),n(1,f=null);return}},500)}function h(){if(!r.active||f)return;const{iterations:w,config:S}=r;y(w,S)}function b(w){const{MIN:S,MAX:g}=At.DURATION;let v=S+(g-S)*((100-w)/100);const I=v*.2,N=Math.random()*I;return v+=N,v}return[c,f,a,s,i,u,o]}class Ir extends re{constructor(e){super(),ne(this,e,Er,kr,Z,{})}}function Xt(t){let e,n,r=(t[5]<t[6]?t[4]:t[0])+"",s,i,l,u;return{c(){e=T("div"),n=T("p"),s=q(r),d(n,"class",i="absolute font-bold text-[2vw] text-shadow default-colour-transition "+(t[1]==="success"?"text-success glow-success":t[1]==="fail"?"text-fail glow-fail":t[3]?"text-accent":"text-primary")),D(e,"left",t[5]+"%"),d(e,"class","grid place-items-center absolute")},m(o,c){L(o,e,c),E(e,n),E(n,s),u=!0},p(o,c){(!u||c&49)&&r!==(r=(o[5]<o[6]?o[4]:o[0])+"")&&ue(s,r),(!u||c&10&&i!==(i="absolute font-bold text-[2vw] text-shadow default-colour-transition "+(o[1]==="success"?"text-success glow-success":o[1]==="fail"?"text-fail glow-fail":o[3]?"text-accent":"text-primary")))&&d(n,"class",i),(!u||c&32)&&D(e,"left",o[5]+"%")},i(o){u||(o&&z(()=>{u&&(l||(l=P(e,O,{duration:250},!0)),l.run(1))}),u=!0)},o(o){o&&(l||(l=P(e,O,{duration:250},!1)),l.run(0)),u=!1},d(o){o&&A(e),o&&l&&l.end()}}}function Ar(t){let e,n=t[5]>0&&t[5]<100&&Xt(t);return{c(){n&&n.c(),e=Y()},m(r,s){n&&n.m(r,s),L(r,e,s)},p(r,[s]){r[5]>0&&r[5]<100?n?(n.p(r,s),s&32&&k(n,1)):(n=Xt(r),n.c(),k(n,1),n.m(e.parentNode,e)):n&&($(),C(n,1,1,()=>{n=null}),B())},i(r){k(n)},o(r){C(n)},d(r){r&&A(e),n&&n.d(r)}}}function Lr(t,e,n){let r,s=F,i=()=>(s(),s=je(o,p=>n(5,r=p)),o);t.$$.on_destroy.push(()=>s());let{key:l=null}=e,{state:u=null}=e,{left:o=null}=e;i();let{active:c=null}=e,f="1",a=null;function _(){clearInterval(a),a=null}const m=50-de.ZONE_SIZE*1.5;return qe(()=>{n(4,f=Q("Numbers")),a=setInterval(()=>{(r>m||u)&&_();let p=Q("Numbers");for(;p===f;)p=Q("Numbers");n(4,f=p)},150)}),t.$$set=p=>{"key"in p&&n(0,l=p.key),"state"in p&&n(1,u=p.state),"left"in p&&i(n(2,o=p.left)),"active"in p&&n(3,c=p.active)},[l,u,o,c,f,r,m]}class Nr extends re{constructor(e){super(),ne(this,e,Lr,Ar,Z,{key:0,state:1,left:2,active:3})}}function Ht(t,e,n){const r=t.slice();return r[12]=e[n],r[14]=n,r}function qt(t){let e,n,r,s,i,l=t[2]&&Wt(t);return{c(){e=T("div"),n=T("div"),r=U(),l&&l.c(),D(n,"width",de.ZONE_SIZE+"%"),d(n,"class","bg-primary secondary-shadow h-[2.5vw]"),d(e,"class","primary-shadow default-game-position w-[20vw] h-[0.5vw] bg-primary-50 flex items-center justify-center")},m(u,o){L(u,e,o),E(e,n),E(e,r),l&&l.m(e,null),i=!0},p(u,o){u[2]?l?(l.p(u,o),o&4&&k(l,1)):(l=Wt(u),l.c(),k(l,1),l.m(e,null)):l&&($(),C(l,1,1,()=>{l=null}),B())},i(u){i||(k(l),u&&z(()=>{i&&(s||(s=P(e,O,{},!0)),s.run(1))}),i=!0)},o(u){C(l),u&&(s||(s=P(e,O,{},!1)),s.run(0)),i=!1},d(u){u&&A(e),l&&l.d(),u&&s&&s.end()}}}function Wt(t){let e,n,r=H(t[2].keys),s=[];for(let l=0;l<r.length;l+=1)s[l]=Jt(Ht(t,r,l));const i=l=>C(s[l],1,1,()=>{s[l]=null});return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=Y()},m(l,u){for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(l,u);L(l,e,u),n=!0},p(l,u){if(u&5){r=H(l[2].keys);let o;for(o=0;o<r.length;o+=1){const c=Ht(l,r,o);s[o]?(s[o].p(c,u),k(s[o],1)):(s[o]=Jt(c),s[o].c(),k(s[o],1),s[o].m(e.parentNode,e))}for($(),o=r.length;o<s.length;o+=1)i(o);B()}},i(l){if(!n){for(let u=0;u<r.length;u+=1)k(s[u]);n=!0}},o(l){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)C(s[u]);n=!1},d(l){l&&A(e),Ie(s,l)}}}function Jt(t){let e,n;const r=[t[12],{active:t[0]===t[14]}];let s={};for(let i=0;i<r.length;i+=1)s=De(s,r[i]);return e=new Nr({props:s}),{c(){ie(e.$$.fragment)},m(i,l){W(e,i,l),n=!0},p(i,l){const u=l&5?dn(r,[l&4&&_n(i[12]),l&1&&{active:i[0]===i[14]}]):{};e.$set(u)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){C(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Cr(t){let e,n,r=t[1]&&qt(t);return{c(){r&&r.c(),e=Y()},m(s,i){r&&r.m(s,i),L(s,e,i),n=!0},p(s,[i]){s[1]?r?(r.p(s,i),i&2&&k(r,1)):(r=qt(s),r.c(),k(r,1),r.m(e.parentNode,e)):r&&($(),C(r,1,1,()=>{r=null}),B())},i(s){n||(k(r),n=!0)},o(s){C(r),n=!1},d(s){s&&A(e),r&&r.d(s)}}}function Tr(t,e,n){let r;G(t,K,y=>n(5,r=y));let s=null,i=!1,l=null,u=null,o;K.subscribe(y=>{let h=y.active&&y.type===X.NumberSlide&&!l;h?(n(1,i=!0),_()):i&&!h&&(n(1,i=!1),n(2,l=null),u=null,c())});function c(){o==null||o.removeListener(),o=null}async function f(){if(i)return n(0,s=null),new Promise((y,h)=>{const{keys:b}=l,{ZONE_SIZE:w}=de;let S=[];function g(v){S.forEach(I=>I()),S=[],b.forEach((I,N)=>{let{left:M}=I;M.set(Ee(M),{duration:0}),n(2,l.keys[N].state=v?"success":"fail",l)}),y(v)}b.forEach((v,I)=>{let N=l.keys[I];S.push(v.left.subscribe(M=>{M>=50-w/2&&M<=50+w/2?n(0,s=I):M>50+w/2&&N.state!=="success"&&(N.state="fail",n(2,l.keys[I]=N,l),g(!1))}))}),o=pe(ae.pressed,v=>{const I=v.key.toUpperCase();if(!me.Numbers.includes(I))return;const N=l.keys[s];N||g(!1),I===N.key?(N.state="success",n(2,l.keys[s]=N,l),l.keys.every(R=>R.state==="success")&&g(!0)):g(!1)})})}async function a(y,h){if(!i)return;c();let{difficulty:b,numberOfKeys:w}=h;b=(b||de.FALLBACK_DIFFICULTY)>=100?99:b<=0?5:b,w=w||de.FALLBACK_NUM_KEYS;const S=m(b),g=p(w,S);n(2,l={duration:S,keys:g}),u=null,n(0,s=null),await Le(500);const v=await f();c(),u=v?"success":"fail",setTimeout(()=>{if(i)if(v&&y>0)if(y--,y>0)a(y,h);else{K.finish(!0),n(2,l=null);return}else{K.finish(!1),n(2,l=null);return}},500)}function _(){if(!r.active||l)return;const{iterations:y,config:h}=r;a(y,h)}function m(y){const{MIN:h,MAX:b}=de.DURATION;let w=h+(b-h)*((100-y)/100);const S=w*.2,g=Math.random()*S;return w+=g,w}function p(y,h){const b=de.ZONE_SIZE,w=h*(b/100),S=[];for(let g=0;g<y;g++){const v={key:Q("Numbers"),left:Ne(0,{duration:0}),state:null};setTimeout(()=>{u||v.left.set(100,{duration:h})},w*g),S.push(v)}return S}return[s,i,l]}class Mr extends re{constructor(e){super(),ne(this,e,Tr,Cr,Z,{})}}function Qt(t){let e,n,r,s,i;return{c(){e=T("div"),D(e,"left",t[2]+"%"),D(e,"width",Dr+"vw"),d(e,"class",n="grid place-items-center z-10 absolute h-[1vw] default-colour-transition "+(t[0]==="success"?"bg-success glow-success":t[0]==="fail"?"bg-fail glow-fail":t[0]==="active"?"bg-accent glow-accent":"bg-primary secondary-shadow"))},m(l,u){L(l,e,u),i=!0},p(l,u){(!i||u&4)&&D(e,"left",l[2]+"%"),(!i||u&1&&n!==(n="grid place-items-center z-10 absolute h-[1vw] default-colour-transition "+(l[0]==="success"?"bg-success glow-success":l[0]==="fail"?"bg-fail glow-fail":l[0]==="active"?"bg-accent glow-accent":"bg-primary secondary-shadow")))&&d(e,"class",n)},i(l){i||(l&&z(()=>{i&&(s&&s.end(1),r=zn(e,O,{duration:250}),r.start())}),i=!0)},o(l){r&&r.invalidate(),l&&(s=$n(e,O,{duration:250,delay:250})),i=!1},d(l){l&&A(e),l&&s&&s.end()}}}function Rr(t){let e,n=t[2]>0&&t[2]<100&&Qt(t);return{c(){n&&n.c(),e=Y()},m(r,s){n&&n.m(r,s),L(r,e,s)},p(r,[s]){r[2]>0&&r[2]<100?n?(n.p(r,s),s&4&&k(n,1)):(n=Qt(r),n.c(),k(n,1),n.m(e.parentNode,e)):n&&($(),C(n,1,1,()=>{n=null}),B())},i(r){k(n)},o(r){C(n)},d(r){r&&A(e),n&&n.d(r)}}}const Dr=.5;function Kr(t,e,n){let r,s=F,i=()=>(s(),s=je(u,o=>n(2,r=o)),u);t.$$.on_destroy.push(()=>s());let{state:l=null}=e,{left:u=null}=e;return i(),t.$$set=o=>{"state"in o&&n(0,l=o.state),"left"in o&&i(n(1,u=o.left))},[l,u,r]}class Ur extends re{constructor(e){super(),ne(this,e,Kr,Rr,Z,{state:0,left:1})}}function xt(t,e,n){const r=t.slice();return r[12]=e[n],r[14]=n,r}function en(t){let e,n,r,s,i,l,u,o=t[0]&&tn(t);return{c(){e=T("div"),n=T("div"),r=T("p"),r.textContent=`${me.Primary}`,i=U(),o&&o.c(),d(r,"class","text-shadow absolute font-bold text-[2vw]"),d(n,"class","h-[2.5vw] aspect-square absolute grid place-items-center center-y secondary-shadow bg-primary-50 -translate-x-[130%]"),d(e,"class","primary-shadow default-game-position w-[20vw] h-[0.5vw] bg-primary-50 flex items-center")},m(c,f){L(c,e,f),E(e,n),E(n,r),E(e,i),o&&o.m(e,null),u=!0},p(c,f){c[0]?o?(o.p(c,f),f&1&&k(o,1)):(o=tn(c),o.c(),k(o,1),o.m(e,null)):o&&($(),C(o,1,1,()=>{o=null}),B())},i(c){u||(c&&z(()=>{u&&(s||(s=P(r,O,{duration:100},!0)),s.run(1))}),k(o),c&&z(()=>{u&&(l||(l=P(e,O,{},!0)),l.run(1))}),u=!0)},o(c){c&&(s||(s=P(r,O,{duration:100},!1)),s.run(0)),C(o),c&&(l||(l=P(e,O,{},!1)),l.run(0)),u=!1},d(c){c&&A(e),c&&s&&s.end(),o&&o.d(),c&&l&&l.end()}}}function tn(t){let e,n,r,s,i=H(t[0].lines),l=[];for(let o=0;o<i.length;o+=1)l[o]=nn(xt(t,i,o));const u=o=>C(l[o],1,1,()=>{l[o]=null});return{c(){e=T("div"),n=U();for(let o=0;o<l.length;o+=1)l[o].c();r=Y(),D(e,"width",t[0].zone+"%"),D(e,"left",ye.ZONE_FROM_RIGHT+"%"),d(e,"class","bg-primary secondary-shadow h-[1vw] z-0 absolute -translate-x-full")},m(o,c){L(o,e,c),L(o,n,c);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,c);L(o,r,c),s=!0},p(o,c){if((!s||c&1)&&D(e,"width",o[0].zone+"%"),c&1){i=H(o[0].lines);let f;for(f=0;f<i.length;f+=1){const a=xt(o,i,f);l[f]?(l[f].p(a,c),k(l[f],1)):(l[f]=nn(a),l[f].c(),k(l[f],1),l[f].m(r.parentNode,r))}for($(),f=i.length;f<l.length;f+=1)u(f);B()}},i(o){if(!s){for(let c=0;c<i.length;c+=1)k(l[c]);s=!0}},o(o){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)C(l[c]);s=!1},d(o){o&&(A(e),A(n),A(r)),Ie(l,o)}}}function nn(t){let e,n;const r=[t[12]];let s={};for(let i=0;i<r.length;i+=1)s=De(s,r[i]);return e=new Ur({props:s}),{c(){ie(e.$$.fragment)},m(i,l){W(e,i,l),n=!0},p(i,l){const u=l&1?dn(r,[_n(i[12])]):{};e.$set(u)},i(i){n||(k(e.$$.fragment,i),n=!0)},o(i){C(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Or(t){let e,n,r=t[1]&&en(t);return{c(){r&&r.c(),e=Y()},m(s,i){r&&r.m(s,i),L(s,e,i),n=!0},p(s,[i]){s[1]?r?(r.p(s,i),i&2&&k(r,1)):(r=en(s),r.c(),k(r,1),r.m(e.parentNode,e)):r&&($(),C(r,1,1,()=>{r=null}),B())},i(s){n||(k(r),n=!0)},o(s){C(r),n=!1},d(s){s&&A(e),r&&r.d(s)}}}function Pr(t,e,n){let r;G(t,K,y=>n(4,r=y));let s=null,i=!1,l=null,u;K.subscribe(y=>{let h=y.active&&y.type===X.RapidLines&&!s;h?(n(1,i=!0),a()):i&&!h&&(n(1,i=!1),n(0,s=null),l=null,o())});function o(){u==null||u.removeListener(),u=null}async function c(){if(i)return new Promise((y,h)=>{const{lines:b,zone:w}=s,{ZONE_FROM_RIGHT:S}=ye,g={max:S,min:S-w};let v=[];function I(N){v.forEach(M=>M()),v=[],console.log("clearing",N),b.forEach((M,R)=>{let{left:V}=M;V.set(Ee(V),{duration:0}),n(0,s.lines[R].state=N?"success":"fail",s)}),y(N)}b.forEach((N,M)=>{let R=s.lines[M];v.push(N.left.subscribe(V=>{V>g.min&&V<g.max&&R.state!=="success"?R.state="active":(V==100||V>g.max)&&R.state!=="success"&&(console.log("fail",M,s.lines[M],V,R.state,s.lines[M]),R.state="fail",I(!1)),n(0,s.lines[M]=R,s)}))}),u=pe(ae.pressed,N=>{if(N.key.toUpperCase()!==me.Primary)return;let R=!1,V=0,se=0;if(b.forEach((le,fe)=>{let{left:Ce,state:Je}=le;if(Je==="active"){const Pe=Ee(Ce);Pe>g.min&&Pe<g.max&&(R=!0,Pe>V&&(se=fe,V=Pe))}}),!R)I(!1);else{const le=s.lines[se];le.state="success",n(0,s.lines[se]=le,s),console.log(se,s.lines[se]),s.lines.every(Ce=>Ce.state==="success")&&I(!0)}})})}async function f(y,h){if(!i)return;o();let{difficulty:b,numberOfKeys:w}=h;b=(b||ye.FALLBACK_DIFFICULTY)>=100?99:b<=0?5:b,w=w||ye.FALLBACK_NUM_LINES;const S=m(b),g=p(w,S),v=_(b);n(0,s={duration:S,lines:g,zone:v}),l=null,await Le(500);const I=await c();o(),l=I?"success":"fail",setTimeout(()=>{if(i)if(I&&y>0)if(y--,y>0)f(y,h);else{K.finish(!0),n(0,s=null);return}else{K.finish(!1),n(0,s=null);return}},500)}function a(){if(!r.active||s)return;const{iterations:y,config:h}=r;f(y,h)}function _(y){const{MIN:h,MAX:b}=ye.ZONE;let w=h+(b-h)*((100-y)/100);const S=w*.2,g=Math.random()*S;return w+=g,w}function m(y){const{MIN:h,MAX:b}=ye.DURATION;let w=h+(b-h)*((100-y)/100);const S=w*.2,g=Math.random()*S;return w+=g,w}function p(y,h){const b=[];for(let w=0;w<y;w++){const S=Math.random()*100,v=h*(.2+Math.random()*.6)+(S/100+w*10),I={left:Ne(0,{duration:0}),state:null};setTimeout(()=>{l||I.left.set(100,{duration:h})},v*w),b.push(I)}return b}return[s,i]}class Fr extends re{constructor(e){super(),ne(this,e,Pr,Or,Z,{})}}function zr(t){let e,n,r,s,i,l,u,o,c,f,a,_;return e=new pr({}),r=new hr({}),i=new vr({}),u=new Ir({}),c=new Mr({}),a=new Fr({}),{c(){ie(e.$$.fragment),n=U(),ie(r.$$.fragment),s=U(),ie(i.$$.fragment),l=U(),ie(u.$$.fragment),o=U(),ie(c.$$.fragment),f=U(),ie(a.$$.fragment)},m(m,p){W(e,m,p),L(m,n,p),W(r,m,p),L(m,s,p),W(i,m,p),L(m,l,p),W(u,m,p),L(m,o,p),W(c,m,p),L(m,f,p),W(a,m,p),_=!0},i(m){_||(k(e.$$.fragment,m),k(r.$$.fragment,m),k(i.$$.fragment,m),k(u.$$.fragment,m),k(c.$$.fragment,m),k(a.$$.fragment,m),_=!0)},o(m){C(e.$$.fragment,m),C(r.$$.fragment,m),C(i.$$.fragment,m),C(u.$$.fragment,m),C(c.$$.fragment,m),C(a.$$.fragment,m),_=!1},d(m){m&&(A(n),A(s),A(l),A(o),A(f)),J(e,m),J(r,m),J(i,m),J(u,m),J(c,m),J(a,m)}}}function rn(t){let e,n;return e=new fr({}),{c(){ie(e.$$.fragment)},m(r,s){W(e,r,s),n=!0},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){C(e.$$.fragment,r),n=!1},d(r){J(e,r)}}}function $r(t){let e,n,r,s;e=new xn({props:{$$slots:{default:[zr]},$$scope:{ctx:t}}});let i=t[0]&&rn();return{c(){ie(e.$$.fragment),n=U(),i&&i.c(),r=Y()},m(l,u){W(e,l,u),L(l,n,u),i&&i.m(l,u),L(l,r,u),s=!0},p(l,[u]){const o={};u&2&&(o.$$scope={dirty:u,ctx:l}),e.$set(o),l[0]?i?u&1&&k(i,1):(i=rn(),i.c(),k(i,1),i.m(r.parentNode,r)):i&&($(),C(i,1,1,()=>{i=null}),B())},i(l){s||(k(e.$$.fragment,l),k(i),s=!0)},o(l){C(e.$$.fragment,l),C(i),s=!1},d(l){l&&(A(n),A(r)),J(e,l),i&&i.d(l)}}}function Br(t,e,n){let r;return G(t,pn,s=>n(0,r=s)),_t.set({fallbackResourceName:"debug",allowEscapeKey:!1}),Wn(),[r]}class Zr extends re{constructor(e){super(),ne(this,e,Br,$r,Z,{})}}new Zr({target:document.getElementById("app")});
